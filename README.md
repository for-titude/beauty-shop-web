# ğŸ’… å®¢æˆ·ç¾å®¹åº—ç®¡ç†ç³»ç»Ÿ

> ä¸€ä¸ªåŸºäº Spring Boot çš„è½»é‡çº§ç¾å®¹åº—ä¸šåŠ¡ç®¡ç† Web åº”ç”¨ï¼Œæ”¯æŒå®¢æˆ·ç®¡ç†ã€ç¾å®¹é¡¹ç›®ç»´æŠ¤ã€æœåŠ¡ç™»è®°ã€æœˆåº¦ç»Ÿè®¡ç­‰ç®€å•åŠŸèƒ½ã€‚

#### ğŸ“Œ åŠŸèƒ½ç‰¹æ€§

- âœ… **å®¢æˆ·ç®¡ç†**ï¼šå®Œæ•´å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰ï¼Œæ€§åˆ«é™åˆ¶ä¸º `ç”·`/`å¥³`

- âœ… **ç¾å®¹é¡¹ç›®ç®¡ç†**ï¼šå®Œæ•´å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰ï¼Œæ”¯æŒä»·æ ¼è°ƒæ•´

- âœ… **ç¾å®¹ç™»è®°**ï¼šé€‰æ‹©å®¢æˆ·ä¸é¡¹ç›®ï¼Œè‡ªåŠ¨è®°å½•æœåŠ¡æ—¶é—´ä¸é‡‘é¢

- âœ… **æ•°æ®ä¸€è‡´æ€§ä¿éšœ**ï¼š

Â  - åˆ é™¤å®¢æˆ·/é¡¹ç›®æ—¶ï¼Œè‹¥å­˜åœ¨å†å²è®°å½•ï¼ˆ`Appointment`ï¼‰ï¼Œç³»ç»Ÿ**æ‹’ç»åˆ é™¤**å¹¶æç¤º

Â  - å†å²è®°å½•ä¸­çš„å®¢æˆ·/é¡¹ç›®åç§°é€šè¿‡ **JOIN æŸ¥è¯¢åŠ¨æ€å±•ç¤º**ï¼Œç¡®ä¿ä¿¡æ¯å®æ—¶åŒæ­¥

- âœ… **å¤šç»´åº¦ç»Ÿè®¡æŠ¥è¡¨**ï¼ˆåŸºäº MySQL å­˜å‚¨è¿‡ç¨‹ï¼‰ï¼š

Â  - ğŸ“Š **æœˆä»½é¡¹ç›®ç»Ÿè®¡**ï¼šæŒ‡å®šå¹´æœˆï¼Œç»Ÿè®¡å„ç¾å®¹é¡¹ç›®çš„æ¶ˆè´¹æ¬¡æ•°

Â  - ğŸ‘¥ **å¹´åº¦å®¢æˆ·ç»Ÿè®¡**ï¼šæŒ‡å®šå¹´ä»½ï¼Œç»Ÿè®¡æ¯ä½å®¢æˆ·çš„åˆ°åº—æ¬¡æ•°

Â  - ğŸ’° **æœˆåº¦æ”¶å…¥ç»Ÿè®¡**ï¼šæŒ‡å®šå¹´æœˆï¼Œè®¡ç®—ç¾å®¹åº—æ€»æ”¶å…¥

- âœ… **å®‰å…¨ä¸ä½“éªŒ**ï¼š

Â  - æ•°æ®åº“å‡­è¯é€šè¿‡**ç¯å¢ƒå˜é‡æ³¨å…¥**ï¼ˆä¸ç¡¬ç¼–ç ï¼‰

Â  - æ“ä½œåé¦ˆä½¿ç”¨ **Flash æ¶ˆæ¯**ï¼ˆæˆåŠŸ/é”™è¯¯æç¤ºï¼‰

Â  - å“åº”å¼ UIï¼ŒåŸºäº **Tailwind CSS**ï¼Œç¾è§‚ç®€æ´

---

# ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç±»åˆ«   | æŠ€æœ¯                             |
| ---- | ------------------------------ |
| åç«¯æ¡†æ¶ | Spring Boot 3.4.0              |
| ORM  | MyBatis 3.0.3                  |
| æ•°æ®åº“  | MySQL 5.7                      |
| å‰ç«¯æ¨¡æ¿ | Thymeleaf + Tailwind CSS (CDN) |
| æ„å»ºå·¥å…· | Maven                          |
| å¼€å‘è¯­è¨€ | Java 17                        |
| å­˜å‚¨è¿‡ç¨‹ | MySQL Stored Procedureï¼ˆç”¨äºç»Ÿè®¡ï¼‰   |

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆWindowsï¼‰

### å‰ç½®è¦æ±‚

- âœ… **JDK 17**ï¼ˆå¦‚ [Eclipse Temurin 17](https://adoptium.net/)ï¼‰
- âœ… **Maven 3.6+**
- âœ… **MySQL 5.7** æœåŠ¡å·²å¯åŠ¨
- âœ… å·²åˆ›å»ºæ•°æ®åº“ï¼š`BeautyShopDB`

### æ­¥éª¤

#### 1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®

```bash
git clone https://github.com/for-titude/beauty-shop-web.git
cd beauty-shop-web
```

#### 2. åˆå§‹åŒ–æ•°æ®åº“

> æ‰§è¡Œä»¥ä¸‹ SQL è„šæœ¬ï¼ˆå«è¡¨ç»“æ„ + å­˜å‚¨è¿‡ç¨‹ + æµ‹è¯•æ•°æ®ï¼‰ï¼š

```sql
-- æ–‡ä»¶ï¼šdocs/init_db.sqlï¼ˆé¡¹ç›®ä¸­æä¾›ï¼‰
-- æˆ–åœ¨ MySQL å®¢æˆ·ç«¯ä¸­è¿è¡Œï¼š
SOURCE path/to/your/project/docs/init_db.sql;
```

> ğŸ’¡ è¯¥è„šæœ¬åŒ…å«ï¼š
> 
> - `Customer`, `BeautyService`, `Appointment` è¡¨
> - 3 ä¸ªç»Ÿè®¡ç”¨å­˜å‚¨è¿‡ç¨‹
> - 5 ä½å®¢æˆ· + 4 ä¸ªé¡¹ç›® + 8 æ¡è®°å½•ï¼ˆä¾›æ¼”ç¤ºï¼‰

#### 3. è®¾ç½®æ•°æ®åº“å‡­è¯ï¼ˆå®‰å…¨æ–¹å¼ï¼‰

**ä¸è¦ä¿®æ”¹ `application.yml`ï¼** ä½¿ç”¨ **PowerShell ä¸´æ—¶ç¯å¢ƒå˜é‡**ï¼š

```powershell
# æ‰“å¼€ PowerShellï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰
$env:DB_USERNAME="root"
$env:DB_PASSWORD="ä½ çš„MySQLå¯†ç "

# å¯åŠ¨åº”ç”¨
mvn spring-boot:run
```

> ğŸ”’ å¯†ç ä»…å­˜åœ¨äºå½“å‰ä¼šè¯å†…å­˜ä¸­ï¼Œå…³é—­çª—å£å³é”€æ¯ã€‚

#### 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

```
http://localhost:8080
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
beauty-shop-web/
â”œâ”€â”€ src/main/java/com/example/beautyshop
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ HomeController.java          # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ DataEntryController.java     # æ–°å¢è¡¨å•
â”‚   â”‚   â”œâ”€â”€ AdminController.java         # å®¢æˆ·/é¡¹ç›® CRUD
â”‚   â”‚   â””â”€â”€ StatTypeController.java      # ä¸‰ç±»ç»Ÿè®¡ç»Ÿä¸€å…¥å£
â”‚   â”œâ”€â”€ mapper/                          # MyBatis æ¥å£
â”‚   â”œâ”€â”€ model/                           # å®ä½“ç±»
â”‚   â””â”€â”€ BeautyShopApplication.java
â”œâ”€â”€ src/main/resources
â”‚   â”œâ”€â”€ mapper/                          # MyBatis XML
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ index.html                   # é¦–é¡µ
â”‚       â”œâ”€â”€ stats-type-selector.html     # ç»Ÿè®¡ç±»å‹é€‰æ‹©
â”‚       â”œâ”€â”€ stats-*.html                 # ä¸‰ç±»ç»Ÿè®¡ç»“æœé¡µ
â”‚       â”œâ”€â”€ admin/                       # ç®¡ç†åå°
â”‚       â”‚   â”œâ”€â”€ customers.html
â”‚       â”‚   â”œâ”€â”€ customer-edit.html
â”‚       â”‚   â”œâ”€â”€ services.html
â”‚       â”‚   â””â”€â”€ service-edit.html
â”‚       â””â”€â”€ ...                          # å…¶ä»–è¡¨å•é¡µ
â”œâ”€â”€ docs/init_db.sql                     # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ .gitignore
â”œâ”€â”€ pom.xml
â””â”€â”€ README.md
```

---

 

## ğŸ” å®‰å…¨ä¸æœ€ä½³å®è·µ

- **æ•°æ®åº“å‡­è¯**ï¼šé€šè¿‡ `$env:DB_USERNAME` / `$env:DB_PASSWORD` ä¼ å…¥ï¼Œ**ç»ä¸æäº¤åˆ° Git**
- **æ•æ„Ÿè„šæœ¬**ï¼š`run.ps1`ã€`backup_db.ps1` å·²åŠ å…¥ `.gitignore`
- **åˆ é™¤ä¿æŠ¤**ï¼šåˆ©ç”¨ MySQL å¤–é”®çº¦æŸ + åç«¯å¼‚å¸¸æ•è· + Flash æ¶ˆæ¯ï¼Œé˜²æ­¢è¯¯åˆ 

### ç¤ºä¾‹ï¼šæœ¬åœ°å¯åŠ¨è„šæœ¬ï¼ˆ`run.ps1`ï¼‰

```powershell
# run.ps1ï¼ˆæ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œ**ä¸è¦æäº¤åˆ° Git**ï¼‰
$env:DB_USERNAME="root"
$env:DB_PASSWORD="your_password"
mvn spring-boot:run
```

---

## ğŸ“Š å­˜å‚¨è¿‡ç¨‹è¯´æ˜

é¡¹ç›®ä¾èµ–ä»¥ä¸‹ **MySQL å­˜å‚¨è¿‡ç¨‹**ï¼ˆå·²åŒ…å«åœ¨ `init_db.sql` ä¸­ï¼‰ï¼š

| å­˜å‚¨è¿‡ç¨‹                                                | åŠŸèƒ½          |
| --------------------------------------------------- | ----------- |
| `GetMonthlyIncome(IN year INT, IN month INT)`       | è¿”å›æŒ‡å®šå¹´æœˆæ€»æ”¶å…¥   |
| `GetMonthlyServiceCount(IN year INT, IN month INT)` | è¿”å›å„é¡¹ç›®æœåŠ¡æ¬¡æ•°   |
| `GetYearlyCustomerCount(IN year INT)`               | è¿”å›å„å®¢æˆ·å¹´åº¦åˆ°åº—æ¬¡æ•° |

> é€šè¿‡ JDBC `CallableStatement` è°ƒç”¨ï¼ˆè§ `StatController.java`ï¼‰

---

## ğŸ§ª æµ‹è¯•æ•°æ®

å¯åŠ¨åï¼Œé¦–é¡µå°†æ˜¾ç¤ºï¼š

- **8 æ¡ç¾å®¹è®°å½•**ï¼ˆ2025-12-23 è‡³ 2025-12-29ï¼‰
- **4 ä¸ªç¾å®¹é¡¹ç›®**ï¼ˆä»·æ ¼ Â¥128 ~ Â¥598ï¼‰
- **5 ä½å®¢æˆ·**ï¼ˆ3 å¥³ 2 ç”·ï¼‰

ç‚¹å‡» **â€œæœ¬æœˆç»Ÿè®¡â€** å¯æŸ¥çœ‹ **12 æœˆæ€»æ”¶å…¥ï¼šÂ¥2514.00**

---

## ğŸ³ Docker æ”¯æŒï¼ˆå¯é€‰ï¼‰

> æœªæ¥å¯æ‰©å±•ï¼šæä¾› `Dockerfile` å’Œ `docker-compose.yml`

å½“å‰å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å®¹å™¨åŒ–è¿è¡Œï¼š

```bash
docker run -e DB_USERNAME=root -e DB_PASSWORD=xxx -p 8080:8080 your-app
```

---

## ğŸ“ å¼€å‘è€…æŒ‡å—

- **æ–°å¢ç®¡ç†åŠŸèƒ½**ï¼šæ‰©å±• `AdminController` + `templates/admin/xxx.html`
- **æ–°å¢ç»Ÿè®¡**ï¼šåˆ›å»ºæ–°å­˜å‚¨è¿‡ç¨‹ + æ–° Controller æ–¹æ³• + æ–° Thymeleaf é¡µé¢
- **é”™è¯¯æç¤º**ï¼šä½¿ç”¨ `RedirectAttributes.addFlashAttribute("errorMsg", "...")`



### å¸¸è§é—®é¢˜

**Qï¼šå¯åŠ¨æŠ¥ `com.mysql.cj.jdbc.Driver not assignable`ï¼Ÿ**  
Aï¼šç¡®ä¿ `pom.xml` ä½¿ç”¨ `<artifactId>mysql-connector-j</artifactId>` + ç‰ˆæœ¬ â‰¥ 8.4.0

**Qï¼šThymeleaf é¡µé¢ä¸æ¸²æŸ“ï¼Ÿ**  
Aï¼šæ£€æŸ¥ `templates/` æ–‡ä»¶åæ˜¯å¦ä¸ `return "xxx";` ä¸€è‡´

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ä¸æ•™å­¦ä½¿ç”¨ã€‚

---

## â¤ï¸ è‡´è°¢

- Spring Boot å®˜æ–¹æ–‡æ¡£
- MyBatis ä¸­æ–‡æ–‡æ¡£
- Tailwind CSS
